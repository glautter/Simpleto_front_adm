@use 'sass:color';

$verde: #01586d;
$amarelo: #ffdd57;
$cinza-claro: #f4f4f4;

/* Tons derivados do verde base */
$verde-principal: $verde; // menu principal
$verde-medio: color.scale($verde, $lightness: 10%); // submenus
$verde-claro: color.scale($verde, $lightness: 20%); // sub-submenus

/* ========== SIDENAV BASE ========== */
.gb-sidenav {
  background: $verde-principal;
  color: #fff;
  height: 100%;
  overflow-y: auto;
  overflow-x: hidden;
  padding: 0;
  margin: 0;
  box-shadow: 2px 0 8px rgba(0, 0, 0, 0.1);
  transition: all 0.3s ease;

  scrollbar-width: none; // Firefox
  -ms-overflow-style: none; // IE/Edge
  &::-webkit-scrollbar {
    display: none; // Chrome/Safari
  }
}

mat-sidenav {
  transition: width 0.3s ease;
}

/* Remove sublinhados globais */
.gb-sidenav a,
.gb-sidenav__submenu-link,
.gb-sidenav__subsubmenu a {
  text-decoration: none !important;
  color: inherit;
}

.gb-sidenav a:hover,
.gb-sidenav__submenu-link:hover,
.gb-sidenav__subsubmenu a:hover {
  text-decoration: none !important;
}

/* ========== LISTAS ========== */
.gb-sidenav__list,
.gb-sidenav__submenu,
.gb-sidenav__subsubmenu {
  list-style: none;
  padding: 0;
  margin: 0;
}

/* ========== ITENS PRINCIPAIS (nível 1) ========== */
.gb-sidenav__item {
  display: block;
  width: 100%;
}

.gb-sidenav__button,
.gb-sidenav__submenu-link {
  display: flex;
  align-items: center;
  width: 100%;
  border: none;
  background: transparent;
  text-align: left;
  padding: 12px 20px;
  color: #fff;
  cursor: pointer;
  transition: background 0.2s ease, color 0.2s ease;

  &:hover {
    background: color.scale($verde-principal, $lightness: 20%);
    color: $amarelo;
  }

  .gb-sidenav__icon {
    font-size: 22px;
    margin-right: 10px;
    flex-shrink: 0;
  }

  .gb-sidenav__title {
    flex: 1;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  .gb-sidenav__chev {
    margin-left: auto;
    color: rgba(255, 255, 255, 0.7);
  }
}

/* Ativo (nível 1) */
.gb-sidenav__item.active > .gb-sidenav__button {
  background: color.scale($verde-principal, $lightness: 15%);
  border-left: 4px solid $amarelo;
  color: $amarelo;
}

/* ========== SUBMENUS (nível 2) ========== */
.gb-sidenav__submenu {
  background: $verde-medio;
}

.gb-sidenav__submenu-link {
  padding-left: 40px;

  &:hover {
    background: color.scale($verde-medio, $lightness: 15%);
    color: $amarelo;
  }
}

.gb-sidenav__submenu li.active > .gb-sidenav__submenu-link {
  background: color.scale($verde-medio, $lightness: 10%);
  border-left: 3px solid $amarelo;
  color: $amarelo;
}

/* ========== SUB-SUBMENUS (nível 3) ========== */
.gb-sidenav__subsubmenu {
  background: $verde-claro;
}

.gb-sidenav__subsubmenu li a {
  padding-left: 60px;

  &:hover {
    background: color.scale($verde-claro, $lightness: 15%);
    color: $amarelo;
  }
}

.gb-sidenav__subsubmenu li.active > a {
  background: color.scale($verde-claro, $lightness: 10%);
  border-left: 2px solid $amarelo;
  color: $amarelo;
}
